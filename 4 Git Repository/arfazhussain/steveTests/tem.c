/* temperature_data.c
 *
 *
 *    B. Bird - 2022-11-19
 *    */

#include <stdio.h>
// #include "temperature_data.h"
// #include <stdbool.h>
//
// typedef struct {
//     int year, month, day;
//     } Date;
//
//     typedef struct {
//         Date obs_date;
//             int hour, minute;
//                 int station_id;
//                     float temperature;
//                         int not;
//                         } Observation;
//
//
//                         /* Do not copy the typedef statements for the structure types into this file
//                            (they should only be in the .h file)
//                            */
//
//
//                            /* read_observation(input_file, obs)
//                               Given a file object input_file and a pointer obs to an Observation 
//                                  structure, try to read a single observation from the file into the structure
//                                     pointed to by obs. If the complete observation is read successfully, return 1.
//                                        Otherwise, return 0.
//
//                                           Parameters: input_file (FILE pointer), obs (pointer to Observation object)
//                                              Return value (integer):
//                                                   - If the observation was read successfully, return 1
//                                                        - Otherwise, return 0
//                                                        */ //pointer to observation going to everything into here
//                                                        int read_observation(FILE* input_file, Observation* obs){
//                                                           
//                                                             //FILE* intput_file = fopen("input_file.c","r");
//
//                                                             int yr, mon, da, hr , min, stat;
//                                                             float tem; 
//                                                              
//                                                                      int i = fscanf(input_file,"%d %d %d %d %d %d %f", &yr, &mon, &da ,&hr, &min, &stat, &tem);
//
//                                                                              if ( i == 7){
//                                                                                          obs -> obs_date.year = yr;
//                                                                                                      obs -> obs_date.month = mon;
//                                                                                                                  obs -> obs_date.day = da;
//                                                                                                                              obs -> hour = hr;
//                                                                                                                                          obs -> minute = min;
//                                                                                                                                                      obs -> station_id = stat;
//                                                                                                                                                                  obs -> temperature = tem;
//                                                                                                                                                                              return 1;
//                                                                                                                                                                                      }else{return 0;}
//                                                                                                                                                                                      }
//
//                                                                                                                                                                                      /* count_observations(filename)
//                                                                                                                                                                                         Given a filename, count and return the number of temperature observations in
//                                                                                                                                                                                            the file. If the file cannot be opened, return -1.
//
//                                                                                                                                                                                               Parameters: filename (string)
//                                                                                                                                                                                                  Return value (integer):
//                                                                                                                                                                                                       - If the file cannot be opened for reading, return -1
//                                                                                                                                                                                                            - Otherwise, return the number of temperature observations in the file.
//                                                                                                                                                                                                            */
//                                                                                                                                                                                                            int count_observations(char filename[]){
//                                                                                                                                                                                                                
//                                                                                                                                                                                                                   FILE * input_file = fopen(filename, "r");
//                                                                                                                                                                                                                       int count = 0;  
//                                                                                                                                                                                                                        
//                                                                                                                                                                                                                            if (input_file == NULL){return -1;}
//                                                                                                                                                                                                                                
//                                                                                                                                                                                                                                    else{
//                                                                                                                                                                                                                                            Observation obs;
//                                                                                                                                                                                                                                                    while(read_observation(input_file, &obs))
//                                                                                                                                                                                                                                                            {
//                                                                                                                                                                                                                                                                        count++;
//                                                                                                                                                                                                                                                                                }
//                                                                                                                                                                                                                                                                                    }
//                                                                                                                                                                                                                                                                                        fclose(input_file);
//                                                                                                                                                                                                                                                                                            return count;
//                                                                                                                                                                                                                                                                                            }
//
//                                                                                                                                                                                                                                                                                            /* load_all_observations(filename, array_size, observation_array)
//                                                                                                                                                                                                                                                                                               Given a filename and an array of Observation objects, read as many 
//                                                                                                                                                                                                                                                                                                  observations from the file as possible (up to the size of the array)
//                                                                                                                                                                                                                                                                                                     and store each observation (in order) into the array.
//
//                                                                                                                                                                                                                                                                                                        If the file cannot be opened, return -1. Otherwise, return the number of 
//                                                                                                                                                                                                                                                                                                           observations read.
//
//                                                                                                                                                                                                                                                                                                              If the file contains fewer observations then there are elements in the array,
//                                                                                                                                                                                                                                                                                                                 stop reading after the last observation in the file. Otherwise, stop reading
//                                                                                                                                                                                                                                                                                                                    once array_size observations are read.
//
//                                                                                                                                                                                                                                                                                                                       Parameters: filename (string), array_size (integer), observation_array (array of Observation)
//                                                                                                                                                                                                                                                                                                                          Return value (integer):
//                                                                                                                                                                                                                                                                                                                               - If the file could not be opened, return -1
//                                                                                                                                                                                                                                                                                                                                    - Otherwise, return the total number of observations read and stored into 
//                                                                                                                                                                                                                                                                                                                                           the array.
//                                                                                                                                                                                                                                                                                                                                           */
//                                                                                                                                                                                                                                                                                                                                           int load_all_observations(char filename[], int array_size, Observation observation_array[array_size]){
//                                                                                                                                                                                                                                                                                                                                            FILE * input_file = fopen(filename, "r");
//                                                                                                                                                                                                                                                                                                                                                         int count = 0;
//                                                                                                                                                                                                                                                                                                                                                             if(input_file == NULL){return -1;}
//                                                                                                                                                                                                                                                                                                                                                                 else{
//                                                                                                                                                                                                                                                                                                                                                                         Observation obs;
//                                                                                                                                                                                                                                                                                                                                                                             //obs is gourp of data
//                                                                                                                                                                                                                                                                                                                                                                                 //obs obs array
//                                                                                                                                                                                                                                                                                                                                                                                         // int i = 0;
//                                                                                                                                                                                                                                                                                                                                                                                                 while(read_observation(input_file, &obs) && count < array_size){
//                                                                                                                                                                                                                                                                                                                                                                                                          observation_array[count] = obs;
//                                                                                                                                                                                                                                                                                                                                                                                                                   // printf("TEST:\tStation %d: Minimum = ^^^ degrees (%04d-%02d-%02d %02d:%02d), Maximum = ^^^ degrees (%04d-%02d-%02d %02d:%02d)\n", 
//                                                                                                                                                                                                                                                                                                                                                                                                                            //        ++i, 
//                                                                                                                                                                                                                                                                                                                                                                                                                                     //        // min[i],
//                                                                                                                                                                                                                                                                                                                                                                                                                                              //        obs.obs_date.year,
//                                                                                                                                                                                                                                                                                                                                                                                                                                                       //        obs.obs_date.month,
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                //        obs.obs_date.day, 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                         //        obs.hour,
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  //        obs.minute,
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           //        // max[i], 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    //        obs.obs_date.year,
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             //        obs.obs_date.month,
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      //        obs.obs_date.day, 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               //        obs.hour, 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        //        obs.minute);
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                count++; }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    return count;}
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          // int array nut. whole block of data
//
//
//
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          /* print_station_extremes(num_observations, obs_array)
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Given an array of Observation objects, compute and print the
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 _extreme observations_ (lowest temperature observed and highest
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    temperature observed) for each station that has at least one
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       observation in the dataset.
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          The output will contain one line for each station with at least one 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             observation in the dataset, using a format equivalent to the following:
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Station 1: Minimum = -1.87 degrees (2022-11-21 06:10), Maximum = 10.6 degrees (2022-01-11 01:16)
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      You should use the following printf format string to achieve the correct 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         output format.
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               "Station %d: Minimum = %.2f degrees (%04d-%02d-%02d %02d:%02d), Maximum = %.2f degrees (%04d-%02d-%02d %02d:%02d)\n"
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   The output must be ordered by station number (with lower numbered station 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      numbers appearing first). No more than one line of output should be 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         generated for a particular station number.
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            In cases where multiple observations achieve the extreme value (e.g. if the
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               minimum temperature at a particular station is -1.87, but there are several 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  observations with this temperature), print the date/time of the 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     chronologically earliest observation with that extreme temperature.
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        You may assume that all observations contain a station number between 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           1 and 250 (inclusive).
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              This function must _not_ use any file I/O features whatsoever.
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Parameters: num_observations (integer), observation_array (array of Observation)
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Return value: None
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Side Effect: A printed representation of station extremes is output to the user.
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       */
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       void print_station_extremes(int num_observations, Observation obs_array[num_observations]){
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       float max[250] = {0};
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       float min[250] = {0};
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       int max_idx[250] = {0};
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       int min_idx[250] = {0};
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       int i = 0;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       while(i < 250){
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           min[i] = 1000000;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               max[i] = -1000000;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   i++;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   i=0;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   while(i < num_observations){
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           if(obs_array[i].temperature < min[obs_array[i].station_id - 1]) {min[obs_array[i].station_id - 1] = obs_array[i].temperature; min_idx[obs_array[i].station_id - 1] = i;}
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               if(obs_array[i].temperature > max[obs_array[i].station_id - 1]) {max[obs_array[i].station_id - 1] = obs_array[i].temperature; max_idx[obs_array[i].station_id - 1] = i;}
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     i++;}                                                     
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         i=0;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             while(i < 250){
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 if(min[i] != 1000000) {
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          printf("Station %d: Minimum = %.2f degrees (%04d-%02d-%02d %02d:%02d), Maximum = %.2f degrees (%04d-%02d-%02d %02d:%02d)\n", 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          i + 1, 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          min[i],
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          obs_array[min_idx[i]].obs_date.year,
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          obs_array[min_idx[i]].obs_date.month,
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          obs_array[min_idx[i]].obs_date.day, 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          obs_array[min_idx[i]].hour,
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          obs_array[min_idx[i]].minute,
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          max[i], 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          obs_array[max_idx[i]].obs_date.year,
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          obs_array[max_idx[i]].obs_date.month,
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          obs_array[max_idx[i]].obs_date.day, 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          obs_array[max_idx[i]].hour, 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          obs_array[max_idx[i]].minute);
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             i++;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 /* print_daily_averages(num_observations, obs_array)
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Given an array of observation objects, compute and print the average 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       temperature for each day which has at least one observation in the 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          dataset.
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             The output must contain only dates which actually appear in at least 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                one observation object in the array. The dates must be in ascending 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   chronological order (so an earlier date must be printed before a later 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      one) and each date may only appear once.
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Each line of output will have the form "year month day average", for 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            example "2022 11 20 10.6" (which would be interpreted to mean that 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               the average temperature on Nov. 21, 2022 was 10.6 degrees).
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Your code may assume that all dates are from years between 2015 and 2022 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     (inclusive) and that the month/day entries are all valid (that is, month
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        will always be between 1 and 12 inclusive and day will always be between
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           1 and 31 inclusive).
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 This function must _not_ use any file I/O features whatsoever.
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Parameters: num_observations (integer), observation_array (array of Observation)
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Return value: None
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Side Effect: A printed representation of the average daily temperature is
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          output to the user.
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          int is_leap_year(int year)
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             {
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 if(year%4 == 0){
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             if(year%100 == 0){
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                if(year%400 == 0){
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          return 1;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 return 0;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 return 1;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         return 0;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         }
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         int dt (Observation A) {
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             int year = A.obs_date.year;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 int dayIndex = year*365;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     int month_number = A.obs_date.month;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         int day = A.obs_date.day;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                if (month_number>12) return -1;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      else if ((is_leap_year(year)==1)&&(month_number==2)&&(day>28)) return -1;
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            for (int i=1; i<=month_number; i++) {
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if ((is_leap_year(year)==1)&&(i!=month_number)&&(i==2)) {dayIndex+=29;}
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            else if ((is_leap_year(year)==0)&&(i!=month_number)&&(i==2)) {dayIndex+=28;}
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    else if (i!=month_number) {
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              if ((i==1)||(i==3)||(i==5)||(i==7)||(i==12)||(i==10)||(i==8)) {dayIndex+=31;}
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        else if ((i==4)||(i==6)||(i==9)||(i==11)) {dayIndex+=30;}
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        else if (i==month_number) {dayIndex+=day;}
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  return dayIndex;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
//
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  void print_daily_averages (int nobs, Observation obar[nobs]){    
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      bool swapped;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          for (int i=0; i<nobs-1; i++) {
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  swapped = false;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          for (int j=0; j<nobs-i-1; j++) {
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      if (dt(obar[j])>dt(obar[j+1])) {
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Observation temp = obar[j];
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      obar[j]=obar[j+1];
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      obar[j+1]=temp;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      swapped=true;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (!swapped) {break;}
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  for (int i=0; i<nobs; i++) {
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          float averageT=0;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  float countT = 0;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          countT++;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  float totalT = 0;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          totalT+=obar[i].temperature;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (obar[i].not!=9999) {printf("%d %d %d ",obar[i].obs_date.year, obar[i].obs_date.month, obar[i].obs_date.day);} 
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          for (int j=1; j<nobs; j++) {
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      if ((i!=j)&&(obar[j].not!=9999)&(obar[i].obs_date.year==obar[j].obs_date.year)&&(obar[i].obs_date.month==obar[j].obs_date.month)&&(obar[i].obs_date.day==obar[j].obs_date.day)) {
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      totalT+=obar[j].temperature;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      countT++;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      obar[j].not=9999;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (obar[i].not!=9999) {
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              averageT = totalT/countT;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          printf("%.1f\n",averageT);
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      totalT=0;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  countT=0;
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
//
//
